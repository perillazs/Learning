# Docker学习
## What & Why
什么是 Docker，为什么要使用 Docker？
学习一样东西首先要了解他的定义和适用场景(优势劣势)，有了一个初步印象和定位之后再去学习用法，及更进一步的原理，会轻松很多。

**Docker是一个开源的应用容器引擎，基于Go语言并遵循了apache2.0协议开源**，此外还有三大特点，**轻量级**、**可移植性**与**隔离性**

在IT领域内，出现一项新的技术通常是为了解决出现在某些场景的某些问题。Docker也是如此。
### Docker的应用场景
1. 简化配置
  虚拟机的最大好处是可以在一台硬件设施上运行各种配置不一样的平台(软件、系统)，Docker 在降低额外开销的情况下提供了同样的功能。同一个 Docker 配置可在不同环境中使用，降低了硬件要求和应用环境之间的耦合度。
2. 代码流水线(Code Pipeline)管理 
  代码从开发者机器到最终在生产环境上部署，会经过很多有微小差别的中间环境，Docker给应用提供了一个从开发到上线都一致的环境。
3. 提高开发效率
  在不同开发环境中都需要做好两件事，一是让开发环境尽量贴近生产环境，二是想快速搭建开发环境。
4. 隔离应用
  有很多原因会出现需要在一个机器上运行不同的应用，比如微服务等。
5. 整合服务器
  正如通过虚拟机来整合多个应用，Docker隔离应用的能力使得Docker可以整合多个服务器以降低成本。由于没有多个操作系统的内存占用，以及能在多个实例之间共享没有使用的内存，Docker可以比虚拟机提供更好的服务器整合解决方案
6. 调适能力
  Docker 提供了很多工具，它们提供了很多功能，包括可以为容器设置检查点，设置版本和查看两个容器之间的差别，这些特性可以帮助调试BUG
7. 多租户环境
  在多租户应用中，可以避免关键应用的重写
8. 快速部署
  在虚拟机之前，引入新的硬件资源需要消耗几天时间。虚拟化技术将这个时间缩短到了分钟级别。而 Docker 通过为进程仅仅创建一个容器而无需启动一个操作系统，再次将这个过程缩短到了秒级。

### 与虚拟机对比
1. 启动快
  启动容器相当于启动本机的一个进程，而不是启动一个操作系统
2. 资源占用少
  虚拟机是完整的操作系统，要占用所有资源。且多个容器可以共享资源
3. 体积小
  容器只要包含用到的组件即可，虚拟机是整个操作系统的打包，所以容器文件比虚拟机文件小得多

容器有点像轻量级虚拟机，能提供虚拟化的环境，但是成本开销小得多

## How
### 安装
[参考官网](https://docs.docker.com/engine/install/centos/)

### image 文件
Docker 把应用程序及其依赖打包在 image 文件里面。


## 题外话

### 为什么不把数据库部署在 Docker 容器内
Docker不适合部署数据库的七大原因
> 数据安全问题  
> 性能问题  
> 网络问题  
> 状态  
> 资源隔离  
> 云平台的不适用性
> 运行数据库的环境需求